---
layout: post
title:  "汇编语言与单片机——《单片机原理及应用》读书笔记"
date:   2018-2-24 00:00:00
categories: 嵌入式
tags: 汇编
excerpt: 单片机的启动代码是汇编写的，因为在未配置堆栈时，C语言代码是无法正常工作的，所以研究单片机汇编还是很有必要的。
mathjax: true
---
* content
{:toc}
---
> C语言不具备上电立即运行的条件：全局变量没有初始化、系统堆栈没有初始化等。

- 总线的概念<br/>

    - 地址总线：一个CPU有N根地址线，则可以说这个CPU的地址总线的宽度为N。这样的CPU最多可以寻找2的N次方个内存单元。<br/>
    - 数据总线:CPU与内存或其他器件之间的数据传送是通过数据总线来进行的。数据总线的宽度决定了CPU和外界的数据传送速度。8根数据总线一次可传送一个8位二进制数据（即一个字节）。16根数据总线一次可传送两个字节。<br/>
    - 控制总线：CPU对外部器件的控制是通过控制总线来进行的。在这里控制总线是个总称，控制总线是一些不同控制线的集合。有多少根控制总线，就意味着CPU提供了对外部器件的多少种控制。所以，控制总线的宽度决定了CPU对外部器件的控制能力。<br/>

### 1.单片机概述

- 单片机的定义、发展历史、单片机的特点、单片机的发展趋势、嵌入式微控制器（单片机）与嵌入式数字信号处理器、嵌入式微处理器、嵌入式片上系统的概念。



---

### 2.单片机片内硬件结构

> 单片机的硬件组成、引脚功能、CPU组成和功能、存储器的结构、并行 i/o口、时钟电路与时序、复位操作和复位电路。

- AT89S51的硬件组成:它把那些作为控制应用所必须的基本功能部件都集成在一个尺寸有限的集成电路芯片上，具有如下功能部件和特性：
 -  (1)8位微处理器器(CPU)<br/>
 -  (2)数据存储器(`128B RAM`)<br/>
 -  (3)程序存储器(`4KB Falsh ROM`)<br/>
 -  (4)4个8位可编程并行I/O口(P0,P1,P2,P3)<br/>
 -  (5)1个全双工的异步串行口<br/>
 -  (6)2个全双工的异步串行口<br/>
 -  (7)1个看门狗定时器<br/>
 -  (8)中断系统具有5个中断源、5个中断向量<br/>
 -  (9)特殊功能寄存器(SFR)26个<br/>
 -  (10)低功耗节电模式有空闲模式和掉电模式，且具有掉电模式下的中断恢复模式。<br/>
 -  (11)3个程序加密锁定位<br/>
 
- 引脚按其功能可分为3类<br/>
 -  (1)电源及时钟引脚<br/>
 -  (2)控制引脚<br/>
 -  (3)I/O引脚<br/>
 
- AT89S51的CPU是由运算器和控制器构成的<br/>
 -  运算器：主要用来对操作数进行算术、逻辑和位操作运算。主要包括算术逻辑运算单元ALU、累加器A、程序状态寄存器PSW、位处理器及两个暂存区等。<br/>
 -  控制器：主要包括程序计算器、指令寄存器、指令译码器、定时及控制逻辑电路等。其功能是控制指令的读入、译码和执行，从而对单片机的各功能部件进行定时和逻辑控制。<br/>
  - 程序计时器PC是控制器中最基本的寄存器，它是一个独立的16位计数器，是不可访问的，即用户不能直接只用指令对PC进行读/写。<br/>
  - PC的基本工作过程是：CPU读指令，PC的内容作为所取指令的地址发送给程序寄存器，然后程序存储器按此地址输出指令字节，同时PC自动加1，这也是为什么PC被称为程序计数器的原因。<br/>
  - PC中内容变化轨迹决定了程序的流程。<br/>
  - 程序计数器的计数宽度决定了程序存储器的地址范围。AT89S51中的PC位数为16位，故可对64KB(` = 2^16 B`)的程序存储器进行寻址。<br/>
 
 
 
---

### 3.单片机的指令系统

- 指令系统概述、指令格式、寻址方式、指令。

---

### 4.汇编语言程序设计

- 汇编语言程序设计概述、汇编语言源程序的汇编、语言程序设计举例。

---

### 5.单片机的中断系统

- 中断技术概述、中断系统结构、中断允许与优先级的控制、响应中断请求的条件、外部中断的响应时间 、外部中断的触发方式选择、中断请求的撤销、中断服务子程序的设计和多外部中断源系统设计 。

---

### 6.定时器/计数器

- 定时器 /计数器的结构、定时器 /计数器的4种工作方式、对外部输入的计数信号要求、定时器 /计数器的编程和应用。

---

### 7.串行口

- 串行口的结构、串行口的4种工作方式、多机通信、波特率的制定方法、串行口的应用。

---

### 8.外部存储器的扩展

- 系统扩展结构、地址空间分配和外部锁存器、程序存储器的扩展、静态数据存储器的拓展、存储器的综合扩展 。

---

### 9.I/O扩展

- 单片机的i/o扩展概述、I/O接口芯片82C55和81C55的工作方式以及程序设计。


---

### 10.输入/输出接口设计

- LED数码管的显示原理、键盘的工作原理、LCD工作原理，以及它们的程序设计。


---
